#!/bin/bash

# WordPress credentials for chaba-ba.jpn.org
SITE_URL="https://chaba-ba.jpn.org"
USERNAME="uc-japan"
APP_PASSWORD="UfAw oUaF sph2 POw6 wANG ThEn"
BASE64_TOKEN=$(echo -n "${USERNAME}:${APP_PASSWORD}" | base64)

echo "Creating Kadence-style Tea Bar homepage..."

# Create the complete Kadence blocks page
POST_DATA='{
    "title": "茶 Bar 〜茶婆場〜",
    "slug": "tea-bar-homepage",
    "content": "<!-- wp:kadence/rowlayout {\"uniqueID\":\"_top123\",\"columns\":1,\"colLayout\":\"equal\",\"tabletLayout\":\"equal\",\"columnGutter\":\"default\",\"minHeight\":100,\"minHeightUnit\":\"vh\",\"verticalAlignment\":\"middle\",\"backgroundImg\":[{\"bgImg\":\"\",\"bgImgID\":\"\",\"bgImgSize\":\"cover\",\"bgImgPosition\":\"center center\",\"bgImgAttachment\":\"scroll\",\"bgImgRepeat\":\"no-repeat\"}],\"overlay\":[{\"type\":\"color\",\"color\":\"rgba(0,0,0,0.5)\"}],\"padding\":[\"xxl\",\"lg\",\"xxl\",\"lg\"],\"htmlAnchor\":\"top\"} -->\n<div id=\"top\" class=\"wp-block-kadence-rowlayout alignnone kt-row-layout-inner kt-layout-id_top123 kt-row-has-bg kt-row-overlay-normal\">\n\n<!-- wp:kadence/column {\"uniqueID\":\"_topcol1\"} -->\n<div class=\"wp-block-kadence-column kadence-column_topcol1\">\n\n<!-- wp:kadence/advancedheading {\"uniqueID\":\"_topheading1\",\"level\":1,\"align\":\"center\",\"color\":\"#ffffff\",\"size\":[\"3.5rem\",\"3rem\",\"2.5rem\"],\"sizeType\":\"px\",\"lineHeight\":[1.2,1.2,1.2],\"lineType\":\"em\"} -->\n<h1 id=\"kt-adv-heading_topheading1\" class=\"wp-block-kadence-advancedheading has-text-align-center\" style=\"color:#ffffff;font-size:3.5rem;line-height:1.2em\">\ud83c\udf75 \u8336 Bar \u301c\u8336\u5a46\u5834\u301c<\/h1>\n<!-- \/wp:kadence\/advancedheading -->\n\n<!-- wp:kadence\/advancedtext {\"uniqueID\":\"_toptext1\",\"align\":\"center\",\"color\":\"#FFD700\",\"size\":[\"1.5rem\",\"1.3rem\",\"1.1rem\"],\"sizeType\":\"px\",\"lineHeight\":[1.4,1.4,1.4],\"lineType\":\"em\",\"margin\":[{\"desk\":[\"\",\"\",\"30px\",\"\"],\"tablet\":[\"\",\"\",\"25px\",\"\"],\"mobile\":[\"\",\"\",\"20px\",\"\"]}]} -->\n<div class=\"wp-block-kadence-advancedtext has-text-align-center\" style=\"color:#FFD700;font-size:1.5rem;line-height:1.4em;margin-bottom:30px\">\ud83d\udcc5 2025\u5e7410\u670818\u65e5(\u571f) or 19\u65e5(\u65e5)<br>\u203b\u6642\u9593\u306f\u78ba\u5b9a\u6b21\u7b2c\u66f4\u65b0<\/div>\n<!-- \/wp:kadence\/advancedtext -->\n\n<!-- wp:kadence\/advancedtext {\"uniqueID\":\"_toptext2\",\"align\":\"center\",\"color\":\"#ffffff\",\"size\":[\"1.2rem\",\"1.1rem\",\"1rem\"],\"sizeType\":\"px\",\"lineHeight\":[1.4,1.4,1.4],\"lineType\":\"em\",\"margin\":[{\"desk\":[\"\",\"\",\"40px\",\"\"],\"tablet\":[\"\",\"\",\"35px\",\"\"],\"mobile\":[\"\",\"\",\"30px\",\"\"]}]} -->\n<div class=\"wp-block-kadence-advancedtext has-text-align-center\" style=\"color:#ffffff;font-size:1.2rem;line-height:1.4em;margin-bottom:40px\">\ud83d\udccd \u3091\u3073\u3059\u3084<br>\u3012400-0031 \u5c71\u68a8\u770c\u7532\u5e9c\u5e02\u4e38\u306e\u5185\uff11\u4e01\u76ee\uff11\uff14\u2212\uff14<\/div>\n<!-- \/wp:kadence\/advancedtext -->\n\n<!-- wp:kadence\/advancedtext {\"uniqueID\":\"_toptext3\",\"align\":\"center\",\"color\":\"#F5E6D3\",\"size\":[\"1.1rem\",\"1rem\",\"0.9rem\"],\"sizeType\":\"px\",\"lineHeight\":[1.5,1.5,1.5],\"lineType\":\"em\",\"fontStyle\":\"italic\",\"margin\":[{\"desk\":[\"\",\"\",\"50px\",\"\"],\"tablet\":[\"\",\"\",\"40px\",\"\"],\"mobile\":[\"\",\"\",\"35px\",\"\"]}]} -->\n<div class=\"wp-block-kadence-advancedtext has-text-align-center\" style=\"color:#F5E6D3;font-size:1.1rem;line-height:1.5em;font-style:italic;margin-bottom:50px\">\u300c\u4e00\u676f\u306e\u304a\u8336\u304b\u3089\u59cb\u307e\u308b\u3001\u7279\u5225\u306a\u4e00\u65e5\u3002\u300d<\/div>\n<!-- \/wp:kadence\/advancedtext -->\n\n<!-- wp:kadence\/rowlayout {\"uniqueID\":\"_topbuttons\",\"columns\":2,\"colLayout\":\"equal\",\"tabletLayout\":\"equal\",\"columnGutter\":\"default\"} -->\n<div class=\"wp-block-kadence-rowlayout alignnone kt-row-layout-inner kt-layout-id_topbuttons\">\n\n<!-- wp:kadence\/column {\"uniqueID\":\"_topbtncol1\"} -->\n<div class=\"wp-block-kadence-column kadence-column_topbtncol1\">\n\n<!-- wp:kadence\/advancedbutton {\"uniqueID\":\"_topbtn1\",\"text\":\"\u30e1\u30cb\u30e5\u30fc\u3092\u898b\u308b\",\"link\":\"#menu\",\"target\":\"_self\",\"size\":\"large\",\"paddingDesktop\":[12,25,12,25],\"colorText\":\"#ffffff\",\"background\":\"rgba(47,82,51,0.9)\",\"backgroundHover\":\"#2F5233\",\"borderRadius\":8} -->\n<div class=\"wp-block-kadence-advancedbutton kt-btn-size-large kt-btn-style-basic\"><a class=\"kt-button button kt-btn-id_topbtn1\" href=\"#menu\" style=\"color:#ffffff;background:rgba(47,82,51,0.9);padding:12px 25px;border-radius:8px\">\u30e1\u30cb\u30e5\u30fc\u3092\u898b\u308b<\/a><\/div>\n<!-- \/wp:kadence\/advancedbutton -->\n\n<\/div>\n<!-- \/wp:kadence\/column -->\n\n<!-- wp:kadence\/column {\"uniqueID\":\"_topbtncol2\"} -->\n<div class=\"wp-block-kadence-column kadence-column_topbtncol2\">\n\n<!-- wp:kadence\/advancedbutton {\"uniqueID\":\"_topbtn2\",\"text\":\"\u958b\u50ac\u6982\u8981\u30fb\u30a2\u30af\u30bb\u30b9\",\"link\":\"#access\",\"target\":\"_self\",\"size\":\"large\",\"paddingDesktop\":[12,25,12,25],\"colorText\":\"#2F5233\",\"background\":\"rgba(245,230,211,0.9)\",\"backgroundHover\":\"#F5E6D3\",\"borderRadius\":8} -->\n<div class=\"wp-block-kadence-advancedbutton kt-btn-size-large kt-btn-style-basic\"><a class=\"kt-button button kt-btn-id_topbtn2\" href=\"#access\" style=\"color:#2F5233;background:rgba(245,230,211,0.9);padding:12px 25px;border-radius:8px\">\u958b\u50ac\u6982\u8981\u30fb\u30a2\u30af\u30bb\u30b9<\/a><\/div>\n<!-- \/wp:kadence\/advancedbutton -->\n\n<\/div>\n<!-- \/wp:kadence\/column -->\n\n<\/div>\n<!-- \/wp:kadence\/rowlayout -->\n\n<\/div>\n<!-- \/wp:kadence\/column -->\n\n<\/div>\n<!-- \/wp:kadence\/rowlayout -->\n\n<!-- wp:kadence\/rowlayout {\"uniqueID\":\"_concept456\",\"columns\":2,\"colLayout\":\"equal\",\"tabletLayout\":\"equal\",\"columnGutter\":\"wider\",\"padding\":[\"xxl\",\"lg\",\"xxl\",\"lg\"],\"background\":[{\"type\":\"color\",\"color\":\"#ffffff\"}],\"htmlAnchor\":\"concept\"} -->\n<div id=\"concept\" class=\"wp-block-kadence-rowlayout alignnone kt-row-layout-inner kt-layout-id_concept456 kt-row-has-bg\">\n\n<!-- wp:kadence\/column {\"uniqueID\":\"_conceptcol1\",\"verticalAlignment\":\"middle\"} -->\n<div class=\"wp-block-kadence-column kadence-column_conceptcol1 kt-col-vertical-align-middle\">\n\n<!-- wp:kadence\/advancedheading {\"uniqueID\":\"_conceptheading\",\"level\":2,\"color\":\"#2F5233\",\"size\":[\"2.5rem\",\"2.2rem\",\"2rem\"],\"sizeType\":\"px\",\"lineHeight\":[1.3,1.3,1.3],\"lineType\":\"em\",\"margin\":[{\"desk\":[\"\",\"\",\"40px\",\"\"],\"tablet\":[\"\",\"\",\"35px\",\"\"],\"mobile\":[\"\",\"\",\"30px\",\"\"]}]} -->\n<h2 id=\"kt-adv-heading_conceptheading\" class=\"wp-block-kadence-advancedheading\" style=\"color:#2F5233;font-size:2.5rem;line-height:1.3em;margin-bottom:40px\">\u2728 \u30b3\u30f3\u30bb\u30d7\u30c8<br>\u300c\u8336\u5a46\u5834\u3078\u3088\u3046\u3053\u305d\u300d<\/h2>\n<!-- \/wp:kadence\/advancedheading -->\n\n<!-- wp:kadence\/advancedtext {\"uniqueID\":\"_concepttext1\",\"color\":\"#444444\",\"size\":[\"1.1rem\",\"1rem\",\"0.95rem\"],\"sizeType\":\"px\",\"lineHeight\":[1.7,1.7,1.7],\"lineType\":\"em\",\"margin\":[{\"desk\":[\"\",\"\",\"25px\",\"\"],\"tablet\":[\"\",\"\",\"20px\",\"\"],\"mobile\":[\"\",\"\",\"18px\",\"\"]}]} -->\n<div class=\"wp-block-kadence-advancedtext\" style=\"color:#444444;font-size:1.1rem;line-height:1.7em;margin-bottom:25px\">\ud83c\udf38 \u30b9\u30bf\u30c3\u30d5\u306e\u51fa\u8eab\u5730\uff08UC=\u798f\u5ca1\u3001\u6625\u65e5=\u5e83\u5cf6\u3001\u306a\u3063\u3061\u3083\u3093=\u6803\u6728\u3001\u3053\u307e\u3063\u3061\u3083\u3093=\u5c71\u68a8\uff09\u306e\u304a\u8336\u304c\u697d\u3057\u3081\u308b\u3001\u4e00\u65e5\u9650\u5b9a\u306e\u7279\u5225\u306a\u8336Bar\u3002<\/div>\n<!-- \/wp:kadence\/advancedtext -->\n\n<!-- wp:kadence\/advancedtext {\"uniqueID\":\"_concepttext2\",\"color\":\"#444444\",\"size\":[\"1.1rem\",\"1rem\",\"0.95rem\"],\"sizeType\":\"px\",\"lineHeight\":[1.7,1.7,1.7],\"lineType\":\"em\",\"margin\":[{\"desk\":[\"\",\"\",\"25px\",\"\"],\"tablet\":[\"\",\"\",\"20px\",\"\"],\"mobile\":[\"\",\"\",\"18px\",\"\"]}]} -->\n<div class=\"wp-block-kadence-advancedtext\" style=\"color:#444444;font-size:1.1rem;line-height:1.7em;margin-bottom:25px\">\ud83c\udf75 \u304a\u8336\u3092\u4f7f\u3063\u305f\u304a\u9152\u3084\u3001\u624b\u4f5c\u308a\u306e\u304a\u83d3\u5b50\u3082\u697d\u3057\u3081\u307e\u3059\u3002<\/div>\n<!-- \/wp:kadence\/advancedtext -->\n\n<!-- wp:kadence\/advancedtext {\"uniqueID\":\"_concepttext3\",\"color\":\"#FF8C00\",\"size\":[\"1.2rem\",\"1.1rem\",\"1rem\"],\"sizeType\":\"px\",\"lineHeight\":[1.5,1.5,1.5],\"lineType\":\"em\",\"fontWeight\":\"600\",\"fontStyle\":\"italic\"} -->\n<div class=\"wp-block-kadence-advancedtext\" style=\"color:#FF8C00;font-size:1.2rem;line-height:1.5em;font-weight:600;font-style:italic\">\ud83d\udcab \u3068\u308a\u3042\u3048\u305a\u3084\u3063\u3066\u307f\u308b\u3053\u3068\u304c\u8336 Bar \u301c\u8336\u5a46\u5834\u301c\u306e\u4fe1\u5ff5\u3002<\/div>\n<!-- \/wp:kadence\/advancedtext -->\n\n<\/div>\n<!-- \/wp:kadence\/column -->\n\n<!-- wp:kadence\/column {\"uniqueID\":\"_conceptcol2\"} -->\n<div class=\"wp-block-kadence-column kadence-column_conceptcol2\">\n\n<!-- wp:kadence\/advancedimage {\"uniqueID\":\"_conceptimg\",\"id\":\"\",\"url\":\"\",\"alt\":\"\u8336\u5a46\u5834\u30b3\u30f3\u30bb\u30d7\u30c8\u753b\u50cf\",\"width\":500,\"height\":400,\"borderRadius\":12,\"margin\":[{\"desk\":[\"\",\"\",\"\",\"\"],\"tablet\":[\"\",\"\",\"\",\"\"],\"mobile\":[\"30px\",\"\",\"\",\"\"]}]} -->\n<div class=\"wp-block-kadence-advancedimage wp-block-kadence-advancedimage_conceptimg\"><img src=\"\" alt=\"\u8336\u5a46\u5834\u30b3\u30f3\u30bb\u30d7\u30c8\u753b\u50cf\" width=\"500\" height=\"400\" style=\"border-radius:12px\"\/><\/div>\n<!-- \/wp:kadence\/advancedimage -->\n\n<\/div>\n<!-- \/wp:kadence\/column -->\n\n<\/div>\n<!-- \/wp:kadence\/rowlayout -->",
    "status": "publish",
    "type": "page"
}'

# Create WordPress page
POST_RESPONSE=$(curl -s -X POST \
  -H "Authorization: Basic ${BASE64_TOKEN}" \
  -H "Content-Type: application/json" \
  -d "$POST_DATA" \
  "${SITE_URL}/wp-json/wp/v2/pages")

echo "Page creation response: $POST_RESPONSE"

# Extract post URL from response
POST_URL=$(echo "$POST_RESPONSE" | grep -o '"link":"[^"]*' | cut -d'"' -f4)

if [ -n "$POST_URL" ]; then
    echo ""
    echo "✅ Kadence Tea Bar homepage created successfully!"
    echo "Page URL: $POST_URL"
    echo ""
    echo "Next steps (manual setup required):"
    echo "1. Go to WordPress Admin > Appearance > Customize > Homepage Settings"
    echo "2. Select 'A static page' and choose the created page as homepage"
    echo "3. Configure Kadence Global Colors in Customizer"
    echo "4. Set up Header Builder with navigation menu"
else
    echo ""
    echo "❌ Failed to create Tea Bar homepage"
fi